plugins {
    id 'java'
    id 'idea'
    id 'scala'
    id 'cz.alenkacz.gradle.scalafmt'
}

repositories {
    mavenCentral()
}

task scalaTest(dependsOn: ['testClasses'], type: JavaExec) {
    main = 'org.scalatest.tools.Runner'
    args = ['-R', 'build/classes/scala/test', '-o']
    classpath = sourceSets.test.runtimeClasspath
}

test.dependsOn scalaTest

dependencies {
    compile 'org.scala-lang:scala-library:2.12.4'
    compile group: 'com.typesafe', name: 'config', version: '1.4.0'
    compile group: 'org.scala-lang', name: 'scala-reflect', version: '2.12.4'
    testCompile group: 'org.scalatest', name: 'scalatest_2.12', version: '3.1.1'
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile group: 'org.scalatestplus', name: 'junit-4-12_2.12', version: '3.3.0.0-SNAP2'
    testRuntime 'org.pegdown:pegdown:1.4.2'
}

